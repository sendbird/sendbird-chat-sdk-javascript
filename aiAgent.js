import{c as n,A as t,bt as r,e as i,f as s,g as a,a as o,a1 as c,j as l,bA as u,a4 as d,bs as p,u as m,_ as v,b as _,V as U,aa as y,aq as I,aW as k,t as b,b7 as A,F as w}from"./lib/__bundle-6d243fa6.js";export{bB as AIAgentInfo}from"./lib/__bundle-6d243fa6.js";import{C as F,b as S,c as T,d as O,e as P}from"./lib/__bundle-55d63e35.js";export{C as Conversation,j as ConversationChannelInfo,g as ConversationHandoff,h as ConversationResolution,e as ConversationStatus,f as ConversationType,H as HelpdeskInfo}from"./lib/__bundle-55d63e35.js";import"./lib/__bundle-37be2e77.js";import"./lib/__bundle-4209a8fd.js";import"./lib/__bundle-9d3937ff.js";import"./lib/__bundle-acd77193.js";var M,E,q=function(e){function s(n){var s=n.aiAgentId,a=n.userId,o=n.language,c=n.country,l=n.context,u=n.forceCreateChannel,h=n.knownActiveChannelUrl,d=e.call(this)||this;return d.method=t.POST,d.path="".concat(r,"/ai_agents/").concat(encodeURIComponent(s),"/messenger_settings"),d.requireAuth=!1,d.params=i({user_id:a,country:c,language:o,context:l,force_create:u,known_active_channel_url:h}),d}return n(s,e),s}(s),R=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.settings=t,r}return n(t,e),t}(a),L=function(e){function s(n){var s=this,a=n.token,o=n.limit,c=n.aiAgentId,l=n.status,u=n.reverse,h=n.order;return(s=e.call(this)||this).method=t.GET,s.path="".concat(r,"/my_conversations"),s.params=i({token:a,limit:o,reverse:u,order:h,status:l,bot_userid:c}),s}return n(s,e),s}(s),D=function(e){function t(n,t){var r=e.call(this,n,t)||this;r.conversations=[];var i=t.next_token,s=t.conversations;return r.token=i,s&&s.length>0&&(r.conversations=s.map((function(n){return new F(n)}))),r}return n(t,e),t}(a),Q={limit:10},x=function(e){function s(n){var s=this,a=n.limit,o=void 0===a?Q.limit:a,c=n.keys,l=n.token;return(s=e.call(this)||this).method=t.GET,s.path="".concat(r,"/sdk_message_templates"),s.params=i({limit:o,keys:c,token:l}),s}return n(s,e),s}(s),N=function(e){function t(n,t){var r=e.call(this,n,t)||this,i=t.templates,s=t.template_list_token;return r.token=s,r.templates=i.map((function(n){return{template:JSON.stringify(n)}})),r}return n(t,e),t}(a),G=function(e){function i(n){var i=this,s=n.key;return(i=e.call(this)||this).method=t.GET,i.path="".concat(r,"/sdk_message_templates/").concat(s),i}return n(i,e),i}(s),K=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.template=JSON.stringify(t),r}return n(t,e),t}(a);!function(n){n.INCLUDE="include",n.EXCLUDE="exclude"}(M||(M={})),function(n){n.INCLUDE="include",n.EXCLUDE="exclude"}(E||(E={}));var B,X={aiAgentChannelFilter:M.INCLUDE,aiAgentIds:[],deskChannelFilter:E.INCLUDE,pinnedChannelUrls:[],copilotConversationOnly:!1,copilotSupportChannelUrl:void 0},z=function(e){function r(n){var r=e.call(this)||this,s=l(l({},X),n),a=s.aiAgentChannelFilter,o=s.aiAgentIds,c=s.deskChannelFilter,h=s.aiAgentConversationStatusFilter,d=s.pinnedChannelUrls,p=s.copilotConversationOnly,g=s.copilotSupportChannelUrl,m=s.userId,f=s.token,v=s.limit;return r.method=t.GET,r.path="".concat(u,"/").concat(encodeURIComponent(m),"/my_group_channels"),r.params=i({token:f,limit:v,ai_agent_channel_filter:a,desk_channel_filter:c,copilot_conversation_only:p,copilot_support_channel_url:g}),h&&h.length>0&&(r.params.ai_agent_conversation_status_filter=h),o&&o.length>0&&(r.params.ai_agent_ids=o),d&&d.length>0&&(r.params.pinned_channel_urls=d),r}return n(r,e),r}(s),J=function(e){function t(n,t){var r=e.call(this,n,t)||this;r.channels=[];var i=t.next,s=t.channels,a=t.ts;return r.token=i,s&&s.length>0&&(r.channels=s.map((function(e){return e.ts=a,new S(n,e)}))),r.ts=null!=a?a:0,r}return n(t,e),t}(a),V={aiAgentChannelFilter:M.INCLUDE,aiAgentIds:[],deskChannelFilter:E.INCLUDE,pinnedChannelUrls:[],copilotConversationOnly:!1,copilotSupportChannelUrl:void 0},W=function(n){return d(M,n.aiAgentChannelFilter,!0)&&c("string",n.aiAgentIds,!0)&&d(E,n.deskChannelFilter,!0)&&c("string",n.pinnedChannelUrls,!0)&&o("boolean",n.copilotConversationOnly,!0)&&o("string",n.copilotSupportChannelUrl,!0)},Y=function(e){function r(n){var r=n.userId,s=n.ts,a=n.token,o=n.params,c=e.call(this)||this,h=l(l({},V),o),d=h.aiAgentChannelFilter,p=h.aiAgentIds,g=h.deskChannelFilter,m=h.pinnedChannelUrls,f=h.copilotConversationOnly,v=h.copilotSupportChannelUrl;return c.method=t.GET,c.path="".concat(u,"/").concat(encodeURIComponent(r),"/my_group_channels/changelogs"),c.params=i({token:a,change_ts:s,ai_agent_channel_filter:d,desk_channel_filter:g,copilot_conversation_only:f,copilot_support_channel_url:v}),p&&p.length>0&&(c.params.ai_agent_ids=p),m&&m.length>0&&(c.params.pinned_channel_urls=m),c}return n(r,e),r}(s),Z=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.updatedChannels=t.updated.map((function(e){var r=Object.assign(e,{ts:t.ts});return new S(n,r)})),r.deletedChannelUrls=t.deleted,r.hasMore=t.has_more,r.token=t.next,r.ts=t.ts,r}return n(t,e),t}(a),$={aiAgentChannelFilter:M.INCLUDE,aiAgentIds:[],deskChannelFilter:E.INCLUDE,pinnedChannelUrls:[],copilotConversationOnly:!1,copilotSupportChannelUrl:void 0},nn=function(e){function r(n){var r=n.userId,s=n.params,a=e.call(this)||this,o=l(l({},$),s),c=o.aiAgentChannelFilter,h=o.aiAgentConversationStatusFilter,d=o.aiAgentIds,p=o.deskChannelFilter,g=o.pinnedChannelUrls,m=o.copilotConversationOnly,f=o.copilotSupportChannelUrl;return a.method=t.GET,a.path="".concat(u,"/").concat(encodeURIComponent(r),"/my_group_channels/unread_message_count"),a.params=i({ai_agent_channel_filter:c,desk_channel_filter:p,copilot_conversation_only:m,copilot_support_channel_url:f}),h&&h.length>0&&(a.params.ai_agent_conversation_status_filter=h),d&&d.length>0&&(a.params.ai_agent_ids=d),g&&g.length>0&&(a.params.pinned_channel_urls=g),a}return n(r,e),r}(s),en=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.total=t.total,r.aiAgentChannelCount=t.ai_agent_channel,r.deskChannelCount=t.desk_channel,r.pinnedChannel=t.pinned_channel.map((function(n){return{channelUrl:n.channel_url,count:n.count}})),r}return n(t,e),t}(a),tn=function(e){function r(n){var r=n.channelUrl,s=n.messageId,a=n.key,o=n.data,c=e.call(this)||this;return c.method=t.POST,c.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(s),"/forms/").concat(encodeURIComponent(a),"/submit"),c.params=i(m({data:o})),c}return n(r,e),r}(s),rn=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.result=null!=t?t:{},r}return n(t,e),t}(a),sn=function(e){function r(n){var r=n.channelUrl,i=n.messageId,s=n.key,a=e.call(this)||this;return a.method=t.POST,a.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i),"/forms/").concat(encodeURIComponent(s),"/cancel"),a.params={},a}return n(r,e),r}(s),an=function(e){function r(n){var r=n.channelUrl,s=n.messageId,a=n.key,o=n.channel,c=n.data,l=e.call(this)||this;return l.method=t.POST,l.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(s),"/otps/").concat(encodeURIComponent(a),"/request"),l.params=i(m({channel:o,data:c})),l}return n(r,e),r}(s),on=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.result=null!=t?t:{},r}return n(t,e),t}(a),cn=function(e){function r(n){var r=n.channelUrl,s=n.messageId,a=n.key,o=n.code,c=e.call(this)||this;return c.method=t.POST,c.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(s),"/otps/").concat(encodeURIComponent(a),"/verify"),c.params=i(m({code:o})),c}return n(r,e),r}(s),ln=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.result=null!=t?t:{},r}return n(t,e),t}(a),un=function(e){function r(n){var r=n.channelUrl,i=n.messageId,s=n.key,a=e.call(this)||this;return a.method=t.POST,a.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i),"/otps/").concat(encodeURIComponent(s),"/cancel"),a.params={},a}return n(r,e),r}(s),hn=function(e){function r(n){var r=n.channelUrl,s=n.messageId,a=n.rating,o=n.comment,c=e.call(this)||this;return c.method=t.POST,c.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(s),"/feedback"),c.params=i(m({rating:a,comment:o})),c}return n(r,e),r}(s),dn=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.id=t.id,r.rating=t.rating,r.comment=t.comment,r}return n(t,e),t}(a),pn=function(e){function r(n){var r=n.channelUrl,s=n.messageId,a=n.rating,o=n.comment,c=e.call(this)||this;return c.method=t.PUT,c.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(s),"/feedback"),c.params=i(m({rating:a,comment:o})),c}return n(r,e),r}(s),gn=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r.id=t.id,r.rating=t.rating,r.comment=t.comment,r}return n(t,e),t}(a),mn=function(e){function r(n){var r=n.channelUrl,i=n.messageId,s=e.call(this)||this;return s.method=t.DELETE,s.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i),"/feedback"),s.params={},s}return n(r,e),r}(s),fn=function(e){function r(n){var r=n.channelUrl,i=n.messageId,s=n.status,a=n.detail,o=e.call(this)||this;return o.method=t.POST,o.path="".concat(p,"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i),"/user_action_messages"),o.params={status:s,detail:null!=a?a:""},o}return n(r,e),r}(s),vn={},Cn=function(){function n(n,e){var t=e.sdkState,r=e.requestQueue,i=e.logger,s=e.dispatcher;this._iid=n,this._sdkState=t,this._requestQueue=r,this._logger=i,this._dispatcher=s,vn[n]=this}return n.of=function(n){return vn[n]},n.prototype.requestMessengerSettings=function(n){return v(this,void 0,void 0,(function(){var e,t,r;return _(this,(function(i){switch(i.label){case 0:return e=U.of(this._iid).requestQueue,t=new q(n),[4,e.forceSend(t)];case 1:return r=i.sent(),[2,r.as(R).settings]}}))}))},n.prototype.getConversations=function(n,e,t){return v(this,void 0,void 0,(function(){var r,i,s,a,o,c;return _(this,(function(u){switch(u.label){case 0:return r=U.of(this._iid).requestQueue,i=new L(l(l({},e),{token:n,limit:t})),[4,r.send(i)];case 1:return s=u.sent(),a=s.as(D),o=a.conversations,c=a.token,[2,{conversations:o,token:c}]}}))}))},n.prototype.getMessageTemplates=function(n){return void 0===n&&(n={}),v(this,void 0,void 0,(function(){var e,t,r,i,s,a,o;return _(this,(function(c){switch(c.label){case 0:return e=n.keys,t=n.limit,r=new x({keys:e,limit:t}),[4,this._requestQueue.send(r)];case 1:return i=c.sent(),s=i.as(N),a=s.templates,o=s.token,[2,{templates:a,token:o}]}}))}))},n.prototype.getMessageTemplate=function(n){return v(this,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return e=new G({key:n}),[4,this._requestQueue.send(e)];case 1:return t=r.sent(),[2,{template:t.as(K).template}]}}))}))},n.prototype.getMyGroupChannels=function(n,e,t,r){return void 0===r&&(r=y.REQUEST_CHANNEL),v(this,void 0,void 0,(function(){var i,s,a,o,c,u;return _(this,(function(h){switch(h.label){case 0:return i=new z(l(l({},e),{userId:this._sdkState.userId,token:n,limit:t})),[4,this._requestQueue.send(i)];case 1:return s=h.sent(),a=s.as(J),o=a.channels,c=a.token,u=a.ts,this._dispatcher.dispatch(new T({channels:o,context:{source:r}})),[2,{channels:o,token:c,ts:u}]}}))}))},n.prototype.getMyGroupChannelChangeLogs=function(n,e,t){return void 0===t&&(t=y.REQUEST_CHANNEL_CHANGELOGS),v(this,void 0,void 0,(function(){var r,i,s,a,o,c,l,u,h;return _(this,(function(d){switch(d.label){case 0:return r="string"==typeof n?n:null,i="number"==typeof n?n:null,s=new Y(m({userId:this._sdkState.userId,ts:i,token:r,params:e})),[4,this._requestQueue.send(s)];case 1:return a=d.sent(),o=a.as(Z),c=o.updatedChannels,l=o.deletedChannelUrls,u=o.hasMore,h=o.ts,c.length>0&&this._dispatcher.dispatch(new T({channels:c,context:{source:t},ts:h})),l.length>0&&this._dispatcher.dispatch(new O({channelUrls:l,context:{source:t}})),[2,{updatedChannels:c,deletedChannelUrls:l,hasMore:u,token:o.token}]}}))}))},n.prototype.getUnreadMessageCount=function(n){return v(this,void 0,void 0,(function(){var e,t,r,i,s,a,o;return _(this,(function(c){switch(c.label){case 0:return e=new nn({userId:this._sdkState.userId,params:n}),[4,this._requestQueue.send(e)];case 1:return t=c.sent(),r=t.as(en),i=r.total,s=r.aiAgentChannelCount,a=r.deskChannelCount,o=r.pinnedChannel,[2,{total:i,aiAgentChannelCount:s,deskChannelCount:a,pinnedChannel:o}]}}))}))},n.prototype.submitForm=function(n){return v(this,void 0,void 0,(function(){var e,t,r;return _(this,(function(i){switch(i.label){case 0:return e=U.of(this._iid).requestQueue,t=new tn({channelUrl:n.channelUrl,messageId:n.messageId,key:n.formKey,data:n.formData}),[4,e.send(t)];case 1:return r=i.sent(),[2,r.as(rn).result]}}))}))},n.prototype.cancelForm=function(n){return v(this,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return e=U.of(this._iid).requestQueue,t=new sn({channelUrl:n.channelUrl,messageId:n.messageId,key:n.formKey}),[4,e.send(t)];case 1:return r.sent(),[2]}}))}))},n.prototype.requestOTP=function(n){return v(this,void 0,void 0,(function(){var e,t,r;return _(this,(function(i){switch(i.label){case 0:return e=U.of(this._iid).requestQueue,t=new an({channelUrl:n.channelUrl,messageId:n.messageId,key:n.otpKey,channel:n.otpChannel,data:n.otpData}),[4,e.send(t)];case 1:return r=i.sent(),[2,r.as(on).result]}}))}))},n.prototype.verifyOTP=function(n){return v(this,void 0,void 0,(function(){var e,t,r;return _(this,(function(i){switch(i.label){case 0:return e=U.of(this._iid).requestQueue,t=new cn({channelUrl:n.channelUrl,messageId:n.messageId,key:n.otpKey,code:n.code}),[4,e.send(t)];case 1:return r=i.sent(),[2,r.as(ln).result]}}))}))},n.prototype.cancelOTP=function(n){return v(this,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return e=U.of(this._iid).requestQueue,t=new un({channelUrl:n.channelUrl,messageId:n.messageId,key:n.otpKey}),[4,e.send(t)];case 1:return r.sent(),[2]}}))}))},n.prototype.createMessageFeedback=function(n){return v(this,void 0,void 0,(function(){var e,t,r,i;return _(this,(function(s){switch(s.label){case 0:return e=U.of(this._iid).requestQueue,t=new hn({channelUrl:n.channelUrl,messageId:n.messageId,rating:n.rating,comment:n.comment}),[4,e.send(t)];case 1:return r=s.sent(),[2,{id:(i=r.as(dn)).id,rating:i.rating,comment:i.comment}]}}))}))},n.prototype.updateMessageFeedback=function(n){return v(this,void 0,void 0,(function(){var e,t,r,i;return _(this,(function(s){switch(s.label){case 0:return e=U.of(this._iid).requestQueue,t=new pn({channelUrl:n.channelUrl,messageId:n.messageId,rating:n.rating,comment:n.comment}),[4,e.send(t)];case 1:return r=s.sent(),[2,{id:(i=r.as(gn)).id,rating:i.rating,comment:i.comment}]}}))}))},n.prototype.deleteMessageFeedback=function(n){return v(this,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return e=U.of(this._iid).requestQueue,t=new mn({channelUrl:n.channelUrl,messageId:n.messageId}),[4,e.send(t)];case 1:return r.sent(),[2]}}))}))},n.prototype.submitUserActionMessage=function(n){return v(this,void 0,void 0,(function(){var e,t;return _(this,(function(r){switch(r.label){case 0:return e=U.of(this._iid).requestQueue,t=new fn({channelUrl:n.channelUrl,messageId:n.messageId,status:n.status,detail:n.detail}),[4,e.send(t)];case 1:return r.sent(),[2]}}))}))},n}();!function(n){n.CREATED_AT="created_at",n.UPDATED_AT="updated_at"}(B||(B={}));var _n,Un={status:void 0,aiAgentId:void 0,reverse:!1,order:B.UPDATED_AT},yn=function(e){function t(n,t){var r,i,s,a,o=this;return(o=e.call(this,n,t)||this).status=null!==(r=t.status)&&void 0!==r?r:void 0,o.aiAgentId=null!==(i=t.aiAgentId)&&void 0!==i?i:void 0,o.reverse=null!==(s=t.reverse)&&void 0!==s?s:Un.reverse,o.order=null!==(a=t.order)&&void 0!==a?a:Un.order,o}return n(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&d(P,this.status,!0)&&o("string",this.aiAgentId,!0)&&o("boolean",this.reverse)&&d(B,this.order)},t.prototype.serialize=function(){return I(this)},t.prototype.next=function(){return v(this,void 0,void 0,(function(){var n,e,t,r;return _(this,(function(i){switch(i.label){case 0:return n=Cn.of(this._iid),this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,n.getConversations(this._token,m(l({},this)),this.limit)]):[3,2]:[3,5];case 1:return e=i.sent(),t=e.conversations,r=e.token,this._token=r,this._hasNext=!!r,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw b.queryInProgress;case 4:return[3,6];case 5:throw b.invalidParameters;case 6:return[2]}}))}))},t}(k),In=function(e){function t(n,t){var r=e.call(this,n,t)||this;return r._ts=0,r.aiAgentChannelFilter=X.aiAgentChannelFilter,r.aiAgentIds=X.aiAgentIds,r.deskChannelFilter=X.deskChannelFilter,r.pinnedChannelUrls=X.pinnedChannelUrls,r.copilotConversationOnly=X.copilotConversationOnly,r.copilotSupportChannelUrl=X.copilotSupportChannelUrl,t.aiAgentChannelFilter&&(r.aiAgentChannelFilter=t.aiAgentChannelFilter),t.aiAgentConversationStatusFilter&&(r.aiAgentConversationStatusFilter=t.aiAgentConversationStatusFilter),t.aiAgentIds&&(r.aiAgentIds=t.aiAgentIds),t.deskChannelFilter&&(r.deskChannelFilter=t.deskChannelFilter),t.pinnedChannelUrls&&(r.pinnedChannelUrls=t.pinnedChannelUrls),t.copilotConversationOnly&&(r.copilotConversationOnly=t.copilotConversationOnly),t.copilotSupportChannelUrl&&(r.copilotSupportChannelUrl=t.copilotSupportChannelUrl),r}return n(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&d(M,this.aiAgentChannelFilter)&&c(P,this.aiAgentConversationStatusFilter,!0)&&c("string",this.aiAgentIds)&&d(E,this.deskChannelFilter)&&c("string",this.pinnedChannelUrls)&&o("boolean",this.copilotConversationOnly,!0)&&o("string",this.copilotSupportChannelUrl,!0)},t.prototype.serialize=function(){return I(this)},Object.defineProperty(t.prototype,"lastResponseAt",{get:function(){return this._ts},enumerable:!1,configurable:!0}),t.prototype.belongsTo=function(n){if(this.pinnedChannelUrls.includes(n.url))return!0;if(n.isAIAgent){if(!n.conversation)return!1;if(this.aiAgentChannelFilter===M.EXCLUDE)return!1;if(!this.aiAgentIds.includes(n.conversation.aiAgentId))return!1;if(this.aiAgentConversationStatusFilter)if(!this.aiAgentConversationStatusFilter.some((function(e){var t;return(null===(t=n.conversation)||void 0===t?void 0:t.status)===e})))return!1}return!n.isDesk||this.deskChannelFilter!==E.EXCLUDE},t.prototype.next=function(){return v(this,void 0,void 0,(function(){var n,e,t,r,i,s;return _(this,(function(a){switch(a.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,n=Cn.of(this._iid),e=m({aiAgentChannelFilter:this.aiAgentChannelFilter,aiAgentConversationStatusFilter:this.aiAgentConversationStatusFilter,aiAgentIds:this.aiAgentIds,deskChannelFilter:this.deskChannelFilter,pinnedChannelUrls:this.pinnedChannelUrls,copilotConversationOnly:this.copilotConversationOnly,copilotSupportChannelUrl:this.copilotSupportChannelUrl}),[4,n.getMyGroupChannels(this._token,e,this.limit)]):[3,2]:[3,5];case 1:return t=a.sent(),r=t.channels,i=t.token,s=t.ts,this._token=i,this._hasNext=!!i,this._isLoading=!1,this._ts=s,[2,r];case 2:return[2,[]];case 3:throw b.queryInProgress;case 4:return[3,6];case 5:throw b.invalidParameters;case 6:return[2]}}))}))},t}(k);!function(n){n.GOOD="good",n.BAD="bad"}(_n||(_n={}));var kn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.name="aiAgent",n}return n(t,e),t.prototype.init=function(n,t){var r=t.sdkState,i=t.dispatcher,s=t.sessionManager,a=t.requestQueue,o=t.logger,c=t.onlineDetector,l=t.cacheContext;e.prototype.init.call(this,n,{sdkState:r,dispatcher:i,sessionManager:s,requestQueue:a,logger:o,onlineDetector:c,cacheContext:l}),this._manager=new Cn(n,{sdkState:r,requestQueue:a,logger:o,dispatcher:i})},t.prototype.requestMessengerSettings=function(n){return v(this,void 0,void 0,(function(){var e,t,r,i,s,a,c;return _(this,(function(l){return e=n.aiAgentId,t=n.userId,r=n.language,i=n.country,s=n.context,a=n.forceCreateChannel,c=n.knownActiveChannelUrl,w(o("string",e)&&o("string",t,!0)&&o("string",r,!0)&&o("string",i,!0)&&o("object",s,!0)&&o("boolean",a,!0)&&o("string",c,!0)).throw(b.invalidParameters),[2,this._manager.requestMessengerSettings(n)]}))}))},t.prototype.createConversationListQuery=function(n){return void 0===n&&(n={}),new yn(this._iid,n)},t.prototype.createMyGroupChannelListQuery=function(n){return void 0===n&&(n={}),new In(this._iid,n)},t.prototype.getMyGroupChannelChangeLogsByToken=function(n,e){return void 0===e&&(e={}),v(this,void 0,void 0,(function(){var t;return _(this,(function(r){switch(r.label){case 0:return t=l(l({},V),e),w(o("string",n)&&W(t)).throw(b.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(n,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(n,e){return void 0===e&&(e={}),v(this,void 0,void 0,(function(){var t;return _(this,(function(r){switch(r.label){case 0:return t=l(l({},V),e),w(o("number",n)&&W(t)).throw(b.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(n,t)];case 1:return[2,r.sent()]}}))}))},t.prototype.getUnreadMessageCount=function(n){return void 0===n&&(n={}),v(this,void 0,void 0,(function(){var e;return _(this,(function(t){return e=l(l({},$),n),w(d(M,e.aiAgentChannelFilter,!0)&&c(P,e.aiAgentConversationStatusFilter,!0)&&c("string",e.aiAgentIds,!0)&&d(E,e.deskChannelFilter,!0)&&c("string",e.pinnedChannelUrls,!0)&&o("boolean",e.copilotConversationOnly,!0)&&o("string",e.copilotSupportChannelUrl,!0)).throw(b.invalidParameters),[2,this._manager.getUnreadMessageCount(e)]}))}))},t.prototype.getMessageTemplates=function(n){return void 0===n&&(n={}),v(this,void 0,void 0,(function(){var e;return _(this,(function(t){return e=l(l({},Q),n),w(function(n){return o("number",n.limit,!0)&&c("string",n.keys,!0)}(e)).throw(b.invalidParameters),[2,this._manager.getMessageTemplates(n)]}))}))},t.prototype.getMessageTemplate=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n)).throw(b.invalidParameters),[2,this._manager.getMessageTemplate(n)]}))}))},t.prototype.submitForm=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.formKey)&&o("object",n.formData)).throw(b.invalidParameters),[2,this._manager.submitForm(n)]}))}))},t.prototype.cancelForm=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.formKey)).throw(b.invalidParameters),[2,this._manager.cancelForm(n)]}))}))},t.prototype.createMessageFeedback=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&d(_n,n.rating)&&o("string",n.comment,!0)).throw(b.invalidParameters),[2,this._manager.createMessageFeedback(n)]}))}))},t.prototype.updateMessageFeedback=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&d(_n,n.rating)&&o("string",n.comment,!0)).throw(b.invalidParameters),[2,this._manager.updateMessageFeedback(n)]}))}))},t.prototype.requestOTP=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.otpKey)&&o("string",n.otpChannel)&&o("object",n.otpData)).throw(b.invalidParameters),[2,this._manager.requestOTP(n)]}))}))},t.prototype.verifyOTP=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.otpKey)&&o("string",n.code)).throw(b.invalidParameters),[2,this._manager.verifyOTP(n)]}))}))},t.prototype.cancelOTP=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.otpKey)).throw(b.invalidParameters),[2,this._manager.cancelOTP(n)]}))}))},t.prototype.deleteMessageFeedback=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)).throw(b.invalidParameters),[2,this._manager.deleteMessageFeedback(n)]}))}))},t.prototype.submitUserActionMessage=function(n){return v(this,void 0,void 0,(function(){return _(this,(function(e){return w(o("string",n.channelUrl)&&o("number",n.messageId)&&o("string",n.status)&&o("string",n.detail,!0)).throw(b.invalidParameters),[2,this._manager.submitUserActionMessage(n)]}))}))},t}(A);export{M as AIAgentChannelFilter,In as AIAgentGroupChannelListQuery,_n as AIAgentMessageFeedbackRating,kn as AIAgentModule,B as ConversationListOrder,yn as ConversationListQuery,E as DeskChannelFilter};
