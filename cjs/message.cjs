Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./lib/__bundle-0486c467.cjs"),s=require("./lib/__bundle-4bcf4070.cjs"),t=require("./lib/__bundle-d349e14c.cjs");const r={channelUrl:"",scheduledMessageId:0},a={reverse:!1,limit:20};class n extends e.Module{constructor(){super(...arguments),this.name="message"}init(e,{sdkState:t,dispatcher:r,sessionManager:a,requestQueue:n,logger:i,onlineDetector:o,cacheContext:u}){super.init(e,{sdkState:t,dispatcher:r,sessionManager:a,requestQueue:n,logger:i,onlineDetector:o,cacheContext:u}),this._manager=new s.MessageManager(e,{sdkState:t,dispatcher:r,requestQueue:n,onlineDetector:o,cacheContext:u})}buildMessageFromSerializedData(e){return this._manager.buildMessageFromSerializedData(e)}buildSenderFromSerializedData(e){return this._manager.buildSenderFromSerializedData(e)}getMessage(t){return e.__awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},s.MessageRetrievalParamsDefault),t);e.unless(s.validateMessageRetrievalParams(r)).throw(e.SendbirdError.invalidParameters);const a=yield this._manager.getMessage(r);if(a instanceof s.BaseMessage||a instanceof s.NotificationMessage||null===a)return a;throw"Unknown message type is given."}))}getScheduledMessage(s){return e.__awaiter(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},r),s);return e.unless((s=>e.isTypeOf("string",s.channelUrl)&&""!==s.channelUrl&&e.isTypeOf("number",s.scheduledMessageId)&&s.scheduledMessageId>0)(t)).throw(e.SendbirdError.invalidParameters),this._manager.getScheduledMessage(t)}))}getMessageTemplatesByToken(s,t={}){return e.__awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},a),t);return e.unless(e.isTypeOf("string",s,!0)&&(s=>e.isTypeOf("boolean",s.reverse,!0)&&e.isTypeOf("number",s.limit,!0)&&e.isArrayOf("string",s.keys,!0))(r)).throw(e.SendbirdError.invalidParameters),this._manager.getMessageTemplatesByToken(s,r)}))}getMessageTemplate(s){return e.__awaiter(this,void 0,void 0,(function*(){return e.unless(e.isTypeOf("string",s)).throw(e.SendbirdError.invalidParameters),this._manager.getMessageTemplate(s)}))}}Object.defineProperty(exports,"MentionType",{enumerable:!0,get:function(){return e.MentionType}}),Object.defineProperty(exports,"MessageReviewStatus",{enumerable:!0,get:function(){return e.MessageReviewStatus}}),Object.defineProperty(exports,"MessageType",{enumerable:!0,get:function(){return e.MessageType}}),Object.defineProperty(exports,"MessageTypeFilter",{enumerable:!0,get:function(){return e.MessageTypeFilter}}),Object.defineProperty(exports,"PushNotificationDeliveryOption",{enumerable:!0,get:function(){return e.PushNotificationDeliveryOption}}),Object.defineProperty(exports,"ReplyType",{enumerable:!0,get:function(){return e.ReplyType}}),Object.defineProperty(exports,"SendingStatus",{enumerable:!0,get:function(){return e.SendingStatus}}),exports.AdminMessage=s.AdminMessage,exports.AppleCriticalAlertOptions=s.AppleCriticalAlertOptions,exports.BaseMessage=s.BaseMessage,exports.Feedback=s.Feedback,Object.defineProperty(exports,"FeedbackRating",{enumerable:!0,get:function(){return s.FeedbackRating}}),exports.FileMessage=s.FileMessage,exports.MessageForm=s.MessageForm,exports.MessageFormItem=s.MessageFormItem,Object.defineProperty(exports,"MessageFormItemLayout",{enumerable:!0,get:function(){return s.MessageFormItemLayout}}),exports.MessageMetaArray=s.MessageMetaArray,exports.MessageRequestHandler=s.MessageRequestHandler,exports.MessageReviewInfo=s.MessageReviewInfo,Object.defineProperty(exports,"MessageSearchOrder",{enumerable:!0,get:function(){return s.MessageSearchOrder}}),exports.MessageSearchQuery=s.MessageSearchQuery,exports.MultipleFilesMessage=s.MultipleFilesMessage,exports.MultipleFilesMessageRequestHandler=s.MultipleFilesMessageRequestHandler,exports.OGImage=s.OGImage,exports.OGMetaData=s.OGMetaData,exports.PreviousMessageListQuery=s.PreviousMessageListQuery,exports.Reaction=s.Reaction,exports.ReactionEvent=s.ReactionEvent,Object.defineProperty(exports,"ReactionEventOperation",{enumerable:!0,get:function(){return s.ReactionEventOperation}}),exports.Sender=s.Sender,exports.ThreadInfo=s.ThreadInfo,exports.ThreadInfoUpdateEvent=s.ThreadInfoUpdateEvent,exports.Thumbnail=s.Thumbnail,exports.UploadedFileInfo=s.UploadedFileInfo,exports.UserMessage=s.UserMessage,exports.ThreadedParentMessageListQuery=t.ThreadedParentMessageListQuery,exports.MessageModule=n;
