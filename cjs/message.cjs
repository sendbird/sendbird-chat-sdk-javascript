Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./lib/__bundle-1618c4f5.cjs"),t=require("./lib/__bundle-5388ce52.cjs"),r=require("./lib/__bundle-1710d1e4.cjs");const s={channelUrl:"",scheduledMessageId:0},a={reverse:!1,limit:20};class n extends e.Module{constructor(){super(...arguments),this.name="message"}init(e,{sdkState:r,dispatcher:s,sessionManager:a,requestQueue:n,logger:i,onlineDetector:o,cacheContext:u}){super.init(e,{sdkState:r,dispatcher:s,sessionManager:a,requestQueue:n,logger:i,onlineDetector:o,cacheContext:u}),this._manager=new t.MessageManager(e,{sdkState:r,dispatcher:s,requestQueue:n,onlineDetector:o,cacheContext:u})}buildMessageFromSerializedData(e){return this._manager.buildMessageFromSerializedData(e)}buildSenderFromSerializedData(e){return this._manager.buildSenderFromSerializedData(e)}getMessage(r){return e.__awaiter(this,void 0,void 0,(function*(){const s=Object.assign(Object.assign({},t.MessageRetrievalParamsDefault),r);e.unless(t.validateMessageRetrievalParams(s)).throw(e.SendbirdError.invalidParameters);const a=yield this._manager.getMessage(s);if(a instanceof t.BaseMessage||a instanceof t.NotificationMessage||null===a)return a;throw"Unknown message type is given."}))}getScheduledMessage(t){return e.__awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},s),t);return e.unless((t=>e.isTypeOf("string",t.channelUrl)&&""!==t.channelUrl&&e.isTypeOf("number",t.scheduledMessageId)&&t.scheduledMessageId>0)(r)).throw(e.SendbirdError.invalidParameters),this._manager.getScheduledMessage(r)}))}getMessageTemplatesByToken(t,r={}){return e.__awaiter(this,void 0,void 0,(function*(){const s=Object.assign(Object.assign({},a),r);return e.unless(e.isTypeOf("string",t,!0)&&(t=>e.isTypeOf("boolean",t.reverse,!0)&&e.isTypeOf("number",t.limit,!0)&&e.isArrayOf("string",t.keys,!0))(s)).throw(e.SendbirdError.invalidParameters),this._manager.getMessageTemplatesByToken(t,s)}))}getMessageTemplate(t){return e.__awaiter(this,void 0,void 0,(function*(){return e.unless(e.isTypeOf("string",t)).throw(e.SendbirdError.invalidParameters),this._manager.getMessageTemplate(t)}))}}Object.defineProperty(exports,"MentionType",{enumerable:!0,get:function(){return e.MentionType}}),Object.defineProperty(exports,"MessageReviewStatus",{enumerable:!0,get:function(){return e.MessageReviewStatus}}),Object.defineProperty(exports,"MessageType",{enumerable:!0,get:function(){return e.MessageType}}),Object.defineProperty(exports,"MessageTypeFilter",{enumerable:!0,get:function(){return e.MessageTypeFilter}}),Object.defineProperty(exports,"PushNotificationDeliveryOption",{enumerable:!0,get:function(){return e.PushNotificationDeliveryOption}}),Object.defineProperty(exports,"ReplyType",{enumerable:!0,get:function(){return e.ReplyType}}),Object.defineProperty(exports,"SendingStatus",{enumerable:!0,get:function(){return e.SendingStatus}}),exports.AdminMessage=t.AdminMessage,exports.AppleCriticalAlertOptions=t.AppleCriticalAlertOptions,exports.BaseMessage=t.BaseMessage,exports.Feedback=t.Feedback,Object.defineProperty(exports,"FeedbackRating",{enumerable:!0,get:function(){return t.FeedbackRating}}),exports.FileMessage=t.FileMessage,exports.Form=t.Form,exports.FormField=t.FormField,Object.defineProperty(exports,"FormFieldInputType",{enumerable:!0,get:function(){return t.FormFieldInputType}}),exports.MessageMetaArray=t.MessageMetaArray,exports.MessageRequestHandler=t.MessageRequestHandler,exports.MessageReviewInfo=t.MessageReviewInfo,Object.defineProperty(exports,"MessageSearchOrder",{enumerable:!0,get:function(){return t.MessageSearchOrder}}),exports.MessageSearchQuery=t.MessageSearchQuery,exports.MultipleFilesMessage=t.MultipleFilesMessage,exports.MultipleFilesMessageRequestHandler=t.MultipleFilesMessageRequestHandler,exports.OGImage=t.OGImage,exports.OGMetaData=t.OGMetaData,exports.PreviousMessageListQuery=t.PreviousMessageListQuery,exports.Reaction=t.Reaction,exports.ReactionEvent=t.ReactionEvent,Object.defineProperty(exports,"ReactionEventOperation",{enumerable:!0,get:function(){return t.ReactionEventOperation}}),exports.Sender=t.Sender,exports.ThreadInfo=t.ThreadInfo,exports.ThreadInfoUpdateEvent=t.ThreadInfoUpdateEvent,exports.Thumbnail=t.Thumbnail,exports.UploadedFileInfo=t.UploadedFileInfo,exports.UserMessage=t.UserMessage,exports.ThreadedParentMessageListQuery=r.ThreadedParentMessageListQuery,exports.MessageModule=n;
