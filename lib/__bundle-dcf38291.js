import{Z as e,c as n,W as t,U as r,_ as s,b as o,aa as a,V as i,an as u,ax as E,u as N,ba as c}from"./__bundle-e7528661.js";import{aA as _,aB as l,aC as h,aD as C}from"./__bundle-aef84d74.js";import{P as d}from"./__bundle-c336221f.js";var A;!function(e){e[e.NONE=0]="NONE",e[e.CHANNEL_ENTER=10102]="CHANNEL_ENTER",e[e.CHANNEL_EXIT=10103]="CHANNEL_EXIT",e[e.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",e[e.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",e[e.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",e[e.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",e[e.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",e[e.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",e[e.TYPING_START=10900]="TYPING_START",e[e.TYPING_END=10901]="TYPING_END",e[e.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",e[e.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",e[e.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",e[e.CHANNEL_INVITE=10020]="CHANNEL_INVITE",e[e.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",e[e.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",e[e.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",e[e.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",e[e.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",e[e.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",e[e.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",e[e.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",e[e.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED"}(A||(A={}));var p=function(){function n(e){var n;this.channelUrl=e.channel_url,this.channelType=e.channel_type,this.category=e.cat,this.data=null!==(n=e.data)&&void 0!==n?n:{},this.ts=e.ts}return Object.defineProperty(n.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===e.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===e.OPEN},enumerable:!1,configurable:!0}),n}(),f=function(e){function t(n,t,r){var s=e.call(this,n,"SYEV",r)||this;return s.event=new p(r),s}return n(t,e),t}(t),m=function(e){function t(n,t,s){var o=e.call(this,n,t,s)||this,a=s.data.operators,i=void 0===a?[]:a;return o.operators=i.map((function(e){return new r(o._iid,e)})),o}return n(t,e),t}(f),v=function(e){function t(n,t){var r=e.call(this,n)||this;return r._logger=t.logger,r._sdkState=t.sdkState,r._sessionManager=t.sessionManager,r._requestQueue=t.requestQueue,r._dispatcher=t.dispatcher,r._cacheContext=t.cacheContext,r._channelType=t.channelType,r}return n(t,e),Object.defineProperty(t.prototype,"_messageBroadcast",{get:function(){return _.of(this._iid)},enumerable:!1,configurable:!0}),t.prototype.subscribeMessageEvent=function(e,n){this._messageBroadcast.subscribe(e,n)},t.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},t.prototype.getMessageFromCache=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,null]}))}))},t.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,n,t){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))},t.prototype.getMessagesFromCache=function(e,n,t,r,a,i){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))},t.prototype.getPollMessagesFromCache=function(e,n,t,r){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))},t.prototype.getCachedMessageCountBetween=function(e,n,t,r){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,0]}))}))},t.prototype.getUnsentMessagesFromCache=function(e,n){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))},t.prototype.removeFailedMessageFromCache=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},t}(a),T=function(e){function t(n,t,r){var s,o,a,E,N=this;(N=e.call(this,n,"ADMM",r)||this).message=new l(n,r);var c=i.of(n).sdkState;return N.isMentioned=u(N.message.mentionType,null!==(a=null!==(s=N.message.mentionedUserIds)&&void 0!==s?s:null===(o=N.message.mentionedUsers)||void 0===o?void 0:o.map((function(e){return e.userId})))&&void 0!==a?a:[],c.userId),N.forceUpdateLastMessage=null!==(E=r.force_update_last_message)&&void 0!==E&&E,N}return n(t,e),t}(t),H=function(e){function t(n,t,r){var s,o,a,u,c,_=this;(_=e.call(this,n,"AEDI",r)||this).message=new l(n,r);var h=i.of(n).sdkState;return _.mentionCountChange=E({mentionType:null===(s=r.old_values)||void 0===s?void 0:s.mention_type,mentionedUserIds:null!==(a=null===(o=r.old_values)||void 0===o?void 0:o.mentioned_user_ids)&&void 0!==a?a:[]},N({mentionType:_.message.mentionType,mentionedUserIds:null!==(u=_.message.mentionedUserIds)&&void 0!==u?u:null===(c=_.message.mentionedUsers)||void 0===c?void 0:c.map((function(e){return e.userId}))}),h.userId),_}return n(t,e),t}(t),L=function(e){function t(n,t,r){var s=e.call(this,n,"MRCT",r)||this;return s.channelUrl=r.channel_url,s.channelType=r.channel_type,s.event=new h(r),s}return n(t,e),t}(t),g=function(e){function t(n,t,r){var s=e.call(this,n,"MTHD",r)||this;return s.event=new C(n,r),s}return n(t,e),t}(t),U=function(e){function t(n,t,r){var s=e.call(this,n,"MCNT",r)||this;return s.groupChannelMemberCounts=r.group_channels.map((function(e){return{channelUrl:e.channel_url,memberCount:e.member_count,joinedMemberCount:e.joined_member_count,updatedAt:e.ts}})),s.openChannelMemberCounts=r.open_channels.map((function(e){return{channelUrl:e.channel_url,participantCount:e.participant_count,updatedAt:e.ts}})),s}return n(t,e),t}(t),I=function(e){function t(n,t,r){var s=e.call(this,n,"PEDI",r)||this;return s.event=new d(n,r),s.status=c(r.poll.status)||r.poll.status,s.channelUrl=r.channel_url,s.channelType=r.channel_type,s}return n(t,e),t}(t);export{T as A,v as B,f as C,U as M,m as O,I as P,L as R,g as T,H as U,A as a};
